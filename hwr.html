
<!DOCTYPE html>
<html>
<head>
<title></title>

	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript"src="js/lodash.min.js"></script>
	<script type="text/javascript" src="js/training_fuzzy.json"></script>
     <style type="text/css">
	 body{
	
    font-family: 'Open Sans', sans-serif;
	background:#fff;
}
	 
	  #content {
        overflow:hidden;
		background-color:#ddd;
	  }
	  #canvas{
		cursor:crosshair ;
        background-color:#fff;
			
	  }
	  .btn {
	width: 24%;
  color: #fff;
  border: 2px solid #F43C60;
  outline: none;
  padding: 10px 12px;
  background: #F43C60;
  margin-top:1.5em;
  transition: 0.5s all;
  -webkit-transition: 0.5s all;
  -moz-transition: 0.5s all;
  -o-transition: 0.5s all;
  -ms-transition: 0.5s all;
}

.btn:after {
	content: '';
	position: absolute;
	z-index: -1;
	-webkit-transition: all 0.3s;
	-moz-transition: all 0.3s;
	transition: all 0.3s;
}

.btn-1c:after {
	width: 0%;
	height: 100%;
	top: 0;
	left: 0;
	background: #555555;
}

.btn:hover,
.btn:active {
	border: 2px solid #F43C60;
  background: transparent;
  color: #F43C60;
}


	
    </style>
  
  <!-- CSS goes in the document HEAD or added to your external stylesheet -->
<style type="text/css">
table {
	font-family: verdana,arial,sans-serif;
	font-size:11px;
	color:#333333;
	border-width: 1px;
	border-color: #666666;
	border-collapse: collapse;
}
table th {
	border-width: 1px;
	padding: 8px;
	border-style: solid;
	border-color: #666666;
	background-color: #dedede;
}
table td {
	border-width: 1px;
	padding: 8px;
	border-style: solid;
	border-color: #666666;
	background-color: #ffffff;
}
</style>

 <script type="text/javascript">

 var data1_s1 = 0;
 var data1_s2 = 0;
 var data2_s1 = 0;
 var data2_s2 = 0;
 var data3_s1 = 0;
 var data3_s2 = 0;
 var data4_s1 = 0;
 var data4_s2 = 0;
 var data5_s1 = 0;
 var data5_s2 = 0;
 var data6_s1 = 0;
 var data6_s2 = 0;
 
 function clearCanvas() {
	context = $("#canvas1")[0].getContext('2d');
	context.clearRect(0, 0, $("#canvas1")[0].width, $("#canvas1")[0].height);
	moves = [];
    angleArray = [];
  data1_s1 = 0;
  data1_s2 = 0;
  data2_s1 = 0;
  data2_s2 = 0;
  data3_s1 = 0;
  data3_s2 = 0;
  data4_s1 = 0;
  data4_s2 = 0;
  data5_s1 = 0;
  data5_s2 = 0;
  data6_s1 = 0;
  data6_s2 = 0;
  document.getElementById("hasil").innerHTML = "" ;
  document.getElementById('table').innerHTML = "";
 // var box = document.getElementById('box');
 // box.style.display = (box.style.display != 'visible') ? 'none' : '';
}


$(document).ready(function() {
	newCanvas();
});


var recording = false;
var lastPositionX = 0;
var lastPositionY = 0;
var moves = new Array;
var angleArray = new Array;
var sectorRad = Math.PI * 2 / 8;
var anglesMap = new Array;
var step = Math.PI * 2 / 100;
var sector;
for (var i = -sectorRad / 2; i <= Math.PI * 2 - sectorRad / 2; i += step) {
	sector = Math.floor((i + sectorRad / 2) / sectorRad);
	anglesMap.push(sector);
}




function newCanvas() {
	var canvas = '<canvas id="canvas1"  width="' + ($(window).width() - 20) + '"  height="' + ($(window).height() - 100) + '" style="border:0px solid #190c00; max-width: 100%;height: auto;background:url(whiteboard.png);background-position: center top; background-size: 100% 100%;background-repeat: no-repeat;" ></canvas>';
	$("#canvas").html(canvas);
	ctx = document.getElementById("canvas1").getContext("2d");
	ctx.lineWidth = 4;
	$("#canvas1").drawTouch();
	$("#canvas1").drawMouse();
}



$.fn.drawTouch = function() {
	var start = function(e) {
		e = e.originalEvent;
		ctx.beginPath();
		ctx.strokeStyle="#ff3299";
		x = e.changedTouches[0].pageX - 9;
		y = e.changedTouches[0].pageY - 9;
		ctx.moveTo(x, y);
		ctx.strokeRect(x, y, 1, 1);
		lastPositionX = e.changedTouches[0].pageX - $("#canvas1").offset().left;
		lastPositionY = e.changedTouches[0].pageY - $("#canvas1").offset().top;
        recording = true;
		
	

	};

	var move = function(e) {

		e = e.originalEvent;
		x = e.changedTouches[0].pageX - 9;
		y = e.changedTouches[0].pageY - 9;
		ctx.lineTo(x, y);
		ctx.stroke();
		


		if (recording == true) {
			var msx = (e.changedTouches[0].pageX - $("#canvas1").offset().left);
			var msy = (e.changedTouches[0].pageY - $("#canvas1").offset().top);
			var difx = msx - lastPositionX;
			var dify = msy - lastPositionY;
			var sqDist = (difx * difx + dify * dify);
			var sqPrec = (8 * 8);
			if (sqDist > sqPrec) {

				lastPositionX = msx;
				lastPositionY = msy;
				var angle = Math.atan2(difx, dify) + sectorRad / 2;
				var angleRound = Math.floor(angle * 100);
				//f = value < 0 ? Math.abs(value) : value;
				if (angle < 0) angle += Math.PI * 2;
				var no = Math.floor(angle / (Math.PI * 2) * 100);
				moves.push(anglesMap[no]);
				angleArray.push(angleRound);
				data1_s1 = _.first(_.uniq(angleArray)) ;
				data2_s1 = _.last(_.uniq(angleArray)) ;
				data3_s1 = _.first(_.uniq(moves)) ;
				data4_s1 = _.last(_.uniq(moves)) ;
				data5_s1 = _.uniq(angleArray).length ;
				data6_s1 = _.uniq(moves).length ;

			}
		}
	};

	var stop = function(e) {
		clicked = 0;
		recording = false;
		lastPositionX = 0;
		lastPositionY = 0;
		
		data1_s2 += data1_s1 ;
		data2_s2 += data2_s1 ;
		data3_s2 += data3_s1 ;
		data4_s2 += data4_s1 ;
		data5_s2 += data5_s1 ;
		data6_s2 += data6_s1 ;
		
	};

	$(this).on("touchstart", start);
	$(this).on("touchmove", move);
	$(this).on("touchend", stop);
};



$.fn.drawMouse = function() {
	var clicked = 0;
	var start = function(e) {
		e = e.originalEvent;
		clicked = 1;
		ctx.beginPath();
		ctx.strokeStyle="#ff3299";
		x = e.pageX - 9;
		y = e.pageY - 9;
		ctx.moveTo(x, y);
		ctx.strokeRect(x, y, 1, 1);
		lastPositionX = e.clientX - $("#canvas1").offset().left;
		lastPositionY = e.clientY - $("#canvas1").offset().top;
		recording = true;
		
	};

	var move = function(e) {
		e = e.originalEvent;

		if (clicked) {
			x = e.pageX - 9;
		    y = e.pageY - 9;
			ctx.lineTo(x, y);
			ctx.stroke();
		}
		if (recording == true) {
			var msx = (e.clientX - $("#canvas1").offset().left);
			var msy = (e.clientY - $("#canvas1").offset().top);
			var difx = msx - lastPositionX;
			var dify = msy - lastPositionY;
			var sqDist = (difx * difx + dify * dify);
			var sqPrec = (8 * 8);


			if (sqDist > sqPrec) {

				lastPositionX = msx;
				lastPositionY = msy;
				var angle = Math.atan2(difx, dify) + sectorRad / 2;
				var angleRound = Math.floor(angle * 100);
				//f = value < 0 ? Math.abs(value) : value;
				if (angle < 0) angle += Math.PI * 2;
				var no = Math.floor(angle / (Math.PI * 2) * 100);
				moves.push(anglesMap[no]);
				angleArray.push(angleRound);
				data1_s1 = _.first(_.uniq(angleArray)) ;
				data2_s1 = _.last(_.uniq(angleArray)) ;
				data3_s1 = _.first(_.uniq(moves)) ;
				data4_s1 = _.last(_.uniq(moves)) ;
				data5_s1 = _.uniq(angleArray).length ;
				data6_s1 = _.uniq(moves).length ;

			}
		}



	};

	var stop = function(e) {
		e = e.originalEvent;
		clicked = 0;
		recording = false;
		lastPositionX = 0;
		lastPositionY = 0;
		
		data1_s2 += data1_s1 ;
		data2_s2 += data2_s1 ;
		data3_s2 += data3_s1 ;
		data4_s2 += data4_s1 ;
		data5_s2 += data5_s1 ;
		data6_s2 += data6_s1 ;
		

	
		console.log(data1_s2 + " " + data2_s2);
		
		
		
	};

	$(this).on("mousedown", start);
	$(this).on("mousemove", move);
	$(this).on("mouseup", stop);
};

function getFuzzySet() {

	var hasil = []; //array hasil
	var ob = []; //sort array

	
	var newArrayA = [];
	var newArrayB = [];
	var newArrayC = [];
	var newArrayD = [];
	var newArrayE = [];
	var newArrayF = [];
	var newArrayG = [];
	var newArrayH = [];
	var newArrayI = [];
	var newArrayJ = [];
	var newArrayK = [];
	var newArrayL = [];
	var newArrayM = [];
	var newArrayN = [];
	var newArrayO = [];
	var newArrayP = [];
	var newArrayQ = [];
	var newArrayR = [];
	var newArrayS = [];
	var newArrayT = [];
	var newArrayU = [];
	var newArrayV = [];
	var newArrayW = [];
	var newArrayX = [];
	var newArrayY = [];
	var newArrayZ = [];

 
	var x = Math.abs(data2_s2) ;
  
	for (i = 0; i < data.length; i++) {

		ob.push(data[i].last_last_angle);
		ob.join();
		ob.sort(function(a, b) {
			return a - b
		});
		

		
		//batas
		if (data[i].type == "A") {
			newArrayA.push(data[i].last_angle);
			newArrayA.join();
			newArrayA.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayA[0];
			var b = newArrayA[1];
			var c = newArrayA[2];
			var d = newArrayA[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'A',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'A',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'A',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "B") {
			newArrayB.push(data[i].last_angle);
			newArrayB.join();
			newArrayB.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayB[0];
			var b = newArrayB[1];
			var c = newArrayB[2];
			var d = newArrayB[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'B',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'B',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'B',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "C") {
			newArrayC.push(data[i].last_angle);
			newArrayC.join();
			newArrayC.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayC[0];
			var b = newArrayC[1];
			var c = newArrayC[2];
			var d = newArrayC[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'C',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'C',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'C',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas
		if (data[i].type == "D") {
			newArrayD.push(data[i].last_angle);
			newArrayD.join();
			newArrayD.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayD[0];
			var b = newArrayD[1];
			var c = newArrayD[2];
			var d = newArrayD[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'D',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'D',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'D',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "E") {
			newArrayE.push(data[i].last_angle);
			newArrayE.join();
			newArrayE.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayE[0];
			var b = newArrayE[1];
			var c = newArrayE[2];
			var d = newArrayE[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'E',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'E',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'E',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "F") {
			newArrayF.push(data[i].last_angle);
			newArrayF.join();
			newArrayF.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayF[0];
			var b = newArrayF[1];
			var c = newArrayF[2];
			var d = newArrayF[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'F',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'F',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'F',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas
		if (data[i].type == "G") {
			newArrayG.push(data[i].last_angle);
			newArrayG.join();
			newArrayG.sort(function(a, b) {
			return a - b
		     });

			var a = newArrayG[0];
			var b = newArrayG[1];
			var c = newArrayG[2];
			var d = newArrayG[3];

			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;
				hasil.push({
					type: 'G',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1
				hasil.push({
					type: 'G',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'G',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "H") {
			newArrayH.push(data[i].last_angle);
			newArrayH.join();
			newArrayH.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayH[0];
			var b = newArrayH[1];
			var c = newArrayH[2];
			var d = newArrayH[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'H',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'H',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'H',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "I") {
			newArrayI.push(data[i].last_angle);
			newArrayI.join();
			newArrayI.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayI[0];
			var b = newArrayI[1];
			var c = newArrayI[2];
			var d = newArrayI[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'I',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'I',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'I',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas


		if (data[i].type == "J") {
			newArrayJ.push(data[i].last_angle);
			newArrayJ.join();
			newArrayJ.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayJ[0];
			var b = newArrayJ[1];
			var c = newArrayJ[2];
			var d = newArrayJ[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'J',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'J',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'J',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas 

		if (data[i].type == "K") {
			newArrayK.push(data[i].last_angle);
			newArrayK.join();
			newArrayK.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayK[0];
			var b = newArrayK[1];
			var c = newArrayK[2];
			var d = newArrayK[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'K',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'K',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'K',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//batas

		if (data[i].type == "L") {
			newArrayL.push(data[i].last_angle);
			newArrayL.join();
			newArrayL.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayL[0];
			var b = newArrayL[1];
			var c = newArrayL[2];
			var d = newArrayL[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'L',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'L',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'L',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "M") {
			newArrayM.push(data[i].last_angle);
			newArrayM.join();
			newArrayM.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayM[0];
			var b = newArrayM[1];
			var c = newArrayM[2];
			var d = newArrayM[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'M',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'M',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'M',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "N") {
			newArrayN.push(data[i].last_angle);
			newArrayN.join();
			newArrayN.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayN[0];
			var b = newArrayN[1];
			var c = newArrayN[2];
			var d = newArrayN[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'N',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'N',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'N',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "0") {
			newArrayO.push(data[i].last_angle);
			newArrayO.join();
			newArrayO.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayO[0];
			var b = newArrayO[1];
			var c = newArrayO[2];
			var d = newArrayO[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'O',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'O',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'O',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "P") {
			newArrayP.push(data[i].last_angle);
			newArrayP.join();
			newArrayP.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayP[0];
			var b = newArrayP[1];
			var c = newArrayP[2];
			var d = newArrayP[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'P',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'P',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'P',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "Q") {
			newArrayQ.push(data[i].last_angle);
			newArrayQ.join();
			newArrayQ.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayQ[0];
			var b = newArrayQ[1];
			var c = newArrayQ[2];
			var d = newArrayQ[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Q',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'Q',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Q',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "R") {
			newArrayR.push(data[i].last_angle);
			newArrayR.join();
			newArrayR.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayR[0];
			var b = newArrayR[1];
			var c = newArrayR[2];
			var d = newArrayR[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'R',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'R',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'R',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}
		//Batas

		if (data[i].type == "S") {
			newArrayS.push(data[i].last_angle);
			newArrayS.join();
			newArrayS.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayS[0];
			var b = newArrayS[1];
			var c = newArrayS[2];
			var d = newArrayS[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'S',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'S',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'S',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//Batas

		if (data[i].type == "T") {
			newArrayT.push(data[i].last_angle);
			newArrayT.join();
			newArrayT.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayT[0];
			var b = newArrayT[1];
			var c = newArrayT[2];
			var d = newArrayT[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'T',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'T',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'T',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}


		//Batas

		if (data[i].type == "U") {
			newArrayU.push(data[i].last_angle);
			newArrayU.join();
			newArrayU.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayU[0];
			var b = newArrayU[1];
			var c = newArrayU[2];
			var d = newArrayU[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'U',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'U',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'U',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//BATAS

		if (data[i].type == "V") {
			newArrayV.push(data[i].last_angle);
			newArrayV.join();
			newArrayV.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayV[0];
			var b = newArrayV[1];
			var c = newArrayV[2];
			var d = newArrayV[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'V',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'V',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'V',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//BATAS

		if (data[i].type == "W") {
			newArrayW.push(data[i].last_angle);
			newArrayW.join();
			newArrayW.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayW[0];
			var b = newArrayW[1];
			var c = newArrayW[2];
			var d = newArrayW[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'W',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'W',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'W',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//BATAS

		if (data[i].type == "X") {
			newArrayX.push(data[i].last_angle);
			newArrayX.join();
			newArrayX.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayX[0];
			var b = newArrayX[1];
			var c = newArrayX[2];
			var d = newArrayX[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'X',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'X',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'X',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//BATAS

		if (data[i].type == "Y") {
			newArrayY.push(data[i].last_angle);
			newArrayY.join();
			newArrayY.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayY[0];
			var b = newArrayY[1];
			var c = newArrayY[2];
			var d = newArrayY[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Y',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'Y',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Y',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		if (data[i].type == "Z") {
			newArrayZ.push(data[i].last_angle);
			newArrayZ.join();
			newArrayZ.sort(function(a, b) {
			return a - b
		     });
			var a = newArrayZ[0];
			var b = newArrayZ[1];
			var c = newArrayZ[2];
			var d = newArrayZ[3];
			if (x <= b) {
				var value = (x - a) / (b - a); //(x-a) / (b-a)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Z',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x > b && x < c) {
				var f = 1

				hasil.push({
					type: 'Z',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
			if (x >= c && x <= d) {
				var value = (d - x) / (d - c); //(d-x)/(d-c)
				f = value < 0 ? 0 : value;

				hasil.push({
					type: 'Z',
					derajat_keanggotaan: f.toFixed(3)
				});
			}
		}

		//BATAS


		//console.log(hasil);
		//   Trapezoid Formula
       
	  
     

	};
	
	var table = document.getElementById('table') ;
   table.innerHTML = "<table id='table_fuzzy' border='1'><tr><th>Type</th><th>Derajat Keanggotaan</th></tr></table>";
	
	for (i = 0; i < hasil.length; i++) {
	     console.log(hasil[i].type + "   "  + hasil[i].derajat_keanggotaan);
		 document.getElementById('table_fuzzy').innerHTML += "<tr><td>" + hasil[i].type  + "</td><td>" + hasil[i].derajat_keanggotaan + "</td></tr>";
	  }
	  
	  

}


	</script>
		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
		<script type="text/javascript" charset="utf-8" src="cordova_plugins.js"></script>
    
	<script type="text/javascript" charset="utf-8">

        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        // Cordova is ready
        //
        function onDeviceReady() {
       
        }
        
        // Audio player
        //
          var my_media = null;
        var mediaTimer = null;

      
        // Play audio
        //
        function playAudio(src) {
            // Create Media object from src
            my_media = new Media(src, onSuccess, onError);

            // Play audio
            my_media.play();

            // Update my_media position every second
            if (mediaTimer == null) {
                mediaTimer = setInterval(function() {
                    // get my_media position
                    my_media.getCurrentPosition(
                        // success callback
                        function(position) {
                            if (position > -1) {
                                setAudioPosition((position) + " sec");
                            }
                        },
                        // error callback
                        function(e) {
                            console.log("Error getting pos=" + e);
                            setAudioPosition("Error: " + e);
                        }
                    );
                }, 1000);
            }
        }

        // Pause audio
        // 
        function pauseAudio() {
            if (my_media) {
                my_media.pause();
            }
        }

        // Stop audio
        // 
        function stopAudio() {
            if (my_media) {
                my_media.stop();
            }
            clearInterval(mediaTimer);
            mediaTimer = null;
        }

        // onSuccess Callback
        //
        function onSuccess() {
            console.log("playAudio():Audio Success");
        }

        // onError Callback 
        //
        function onError(error) {
            alert('code: '    + error.code    + '\n' + 
                  'message: ' + error.message + '\n');
        }

        // Set audio position
        // 
        function setAudioPosition(position) {
            document.getElementById('audio_position').innerHTML = position;
        }
        
       </script>
</head>
<body>
	
		
			  <div id="outer" >  
      <div id="canvas" ></div>
	  </div>
	 
	
	
	 
	  <button class="btn btn-1 btn-1c more" onclick="clearCanvas()">Ulangi</button>
	  <button class="btn btn-1 btn-1c more" onclick="getFuzzySet()" href="#" >ok</button>
      <p style="display:inline" id="hasil"></p>
	  <br/><br/>
	  <div id="table">
	
	
	 
      </div>
	  
	
		


</body>
</html>